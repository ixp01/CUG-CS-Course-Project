<mxfile host="app.diagrams.net" modified="2026-01-04T00:00:00.000Z" agent="5.0" version="24.0.0" type="device">
  <diagram id="ComponentDiagram" name="组件图-系统架构">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 标题 -->
        <mxCell id="title" value="系统组件图 - 分层架构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- ========== 表示层 ========== -->
        <mxCell id="presentation_layer" value="表示层 (Presentation Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40" vertex="1" parent="1">
          <mxGeometry x="80" y="80" width="480" height="200" as="geometry" />
        </mxCell>
        
        <!-- MainWindow -->
        <mxCell id="comp_main" value="&lt;&lt;component&gt;&gt;&#10;MainWindow" style="html=1;dropTarget=0;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2" vertex="1" parent="presentation_layer">
          <mxGeometry x="40" y="60" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="comp_main_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_main">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- AddDialog -->
        <mxCell id="comp_add" value="&lt;&lt;component&gt;&gt;&#10;AddDialog" style="html=1;dropTarget=0;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2" vertex="1" parent="presentation_layer">
          <mxGeometry x="180" y="60" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_add_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_add">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- StatisticsDialog -->
        <mxCell id="comp_stat" value="&lt;&lt;component&gt;&gt;&#10;StatisticsDialog" style="html=1;dropTarget=0;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2" vertex="1" parent="presentation_layer">
          <mxGeometry x="290" y="60" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_stat_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_stat">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- DetailDataDialog -->
        <mxCell id="comp_detail" value="&lt;&lt;component&gt;&gt;&#10;DetailDataDialog" style="html=1;dropTarget=0;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2" vertex="1" parent="presentation_layer">
          <mxGeometry x="180" y="130" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_detail_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_detail">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Note for presentation layer -->
        <mxCell id="note_presentation" value="主窗口，负责整体界面和用户交互" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#FFFDE7;strokeColor=#F9A825;size=15;fontSize=11" vertex="1" parent="presentation_layer">
          <mxGeometry x="390" y="60" width="80" height="60" as="geometry" />
        </mxCell>
        
        <!-- ========== 业务逻辑层 ========== -->
        <mxCell id="business_layer" value="业务逻辑层 (Business Logic Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40" vertex="1" parent="1">
          <mxGeometry x="640" y="80" width="420" height="200" as="geometry" />
        </mxCell>
        
        <!-- ReportGenerator -->
        <mxCell id="comp_report" value="&lt;&lt;component&gt;&gt;&#10;ReportGenerator" style="html=1;dropTarget=0;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=2" vertex="1" parent="business_layer">
          <mxGeometry x="40" y="60" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_report_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_report">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- CSVImporter -->
        <mxCell id="comp_csv" value="&lt;&lt;component&gt;&gt;&#10;CSVImporter" style="html=1;dropTarget=0;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=2" vertex="1" parent="business_layer">
          <mxGeometry x="180" y="60" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_csv_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_csv">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- DataValidator -->
        <mxCell id="comp_validator" value="&lt;&lt;component&gt;&gt;&#10;数据验证模块" style="html=1;dropTarget=0;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=2" vertex="1" parent="business_layer">
          <mxGeometry x="40" y="130" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="comp_validator_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_validator">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- ========== 数据访问层 ========== -->
        <mxCell id="data_access_layer" value="数据访问层 (Data Access Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40" vertex="1" parent="1">
          <mxGeometry x="80" y="330" width="480" height="150" as="geometry" />
        </mxCell>
        
        <!-- DatabaseHelper -->
        <mxCell id="comp_db_helper" value="&lt;&lt;component&gt;&gt;&#10;DatabaseHelper&#10;&#10;&lt;单例模式&gt;" style="html=1;dropTarget=0;fillColor=#FFCDD2;strokeColor=#D32F2F;strokeWidth=2;fontStyle=1" vertex="1" parent="data_access_layer">
          <mxGeometry x="170" y="60" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="comp_db_helper_port" value="" style="shape=component;jettyWidth=8;jettyHeight=4;" vertex="1" parent="comp_db_helper">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Note for DatabaseHelper -->
        <mxCell id="note_dbhelper" value="统一管理数据库连接和操作" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#FFFDE7;strokeColor=#F9A825;size=15;fontSize=11" vertex="1" parent="data_access_layer">
          <mxGeometry x="330" y="60" width="90" height="60" as="geometry" />
        </mxCell>
        
        <!-- ========== 数据层 ========== -->
        <mxCell id="data_layer" value="数据层 (Data Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#EFEBE9;strokeColor=#5D4037;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40" vertex="1" parent="1">
          <mxGeometry x="80" y="530" width="480" height="180" as="geometry" />
        </mxCell>
        
        <!-- SQLite Database -->
        <mxCell id="comp_sqlite" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#BCAAA4;strokeColor=#3E2723;strokeWidth=2" vertex="1" parent="data_layer">
          <mxGeometry x="160" y="60" width="80" height="90" as="geometry" />
        </mxCell>
        <mxCell id="label_sqlite" value="SQLite数据库" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" vertex="1" parent="data_layer">
          <mxGeometry x="150" y="140" width="100" height="20" as="geometry" />
        </mxCell>
        
        <!-- Note for database -->
        <mxCell id="note_db" value="存储所有业务数据：&#10;• 厂商信息&#10;• 设备信息&#10;• 检测记录&#10;• 检测结果&#10;• 详细测量数据" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#FFFDE7;strokeColor=#F9A825;size=15;fontSize=10;align=left" vertex="1" parent="data_layer">
          <mxGeometry x="270" y="60" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== 外部库 ========== -->
        <mxCell id="external_layer" value="外部库 (External Libraries)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40" vertex="1" parent="1">
          <mxGeometry x="640" y="330" width="420" height="380" as="geometry" />
        </mxCell>
        
        <!-- Qt Framework -->
        <mxCell id="comp_qt" value="&lt;&lt;library&gt;&gt;&#10;Qt Framework" style="shape=folder;fontStyle=1;tabWidth=110;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;fillColor=#B2DFDB;strokeColor=#00695C;strokeWidth=2" vertex="1" parent="external_layer">
          <mxGeometry x="40" y="60" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Qt SQL -->
        <mxCell id="comp_qtsql" value="&lt;&lt;library&gt;&gt;&#10;Qt SQL" style="shape=folder;fontStyle=1;tabWidth=90;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;fillColor=#B2DFDB;strokeColor=#00695C;strokeWidth=2" vertex="1" parent="external_layer">
          <mxGeometry x="240" y="60" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- Qt PrintSupport -->
        <mxCell id="comp_qtprint" value="&lt;&lt;library&gt;&gt;&#10;Qt PrintSupport" style="shape=folder;fontStyle=1;tabWidth=110;tabHeight=30;tabPosition=left;html=1;boundedLbl=1;fillColor=#B2DFDB;strokeColor=#00695C;strokeWidth=2" vertex="1" parent="external_layer">
          <mxGeometry x="40" y="170" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- ========== 依赖关系 ========== -->
        
        <!-- MainWindow -> Other Dialogs -->
        <mxCell id="dep1" value="creates" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2" edge="1" parent="1" source="comp_main" target="comp_add">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep2" value="creates" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2" edge="1" parent="1" source="comp_main" target="comp_stat">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep3" value="creates" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2" edge="1" parent="1" source="comp_main" target="comp_detail">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- MainWindow -> Business Logic -->
        <mxCell id="dep4" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#388E3C" edge="1" parent="1" source="comp_main" target="comp_report">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep5" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#388E3C" edge="1" parent="1" source="comp_main" target="comp_csv">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- All -> DatabaseHelper -->
        <mxCell id="dep6" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_main" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep7" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_add" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep8" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_stat" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep9" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_detail" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep10" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_report" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="dep11" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#C2185B" edge="1" parent="1" source="comp_csv" target="comp_db_helper">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- DatabaseHelper -> SQLite -->
        <mxCell id="dep12" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#5D4037" edge="1" parent="1" source="comp_db_helper" target="comp_sqlite">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Presentation Layer -> Qt Framework -->
        <mxCell id="dep13" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#00695C;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0" edge="1" parent="1" source="presentation_layer" target="comp_qt">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- DatabaseHelper -> Qt SQL -->
        <mxCell id="dep14" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#00695C;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0" edge="1" parent="1" source="comp_db_helper" target="comp_qtsql">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- ReportGenerator -> Qt PrintSupport -->
        <mxCell id="dep15" value="uses" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#00695C;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0" edge="1" parent="1" source="comp_report" target="comp_qtprint">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#BDBDBD;strokeWidth=2" vertex="1" parent="1">
          <mxGeometry x="80" y="740" width="980" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_title" value="图例说明：" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="100" y="750" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_uses" value="uses（使用）" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#666666" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="100" y="780" as="sourcePoint" />
            <mxPoint x="180" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="legend_creates" value="creates（创建）" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="250" y="780" as="sourcePoint" />
            <mxPoint x="330" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="legend_db" value="数据库连接" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#5D4037" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="780" as="sourcePoint" />
            <mxPoint x="480" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>