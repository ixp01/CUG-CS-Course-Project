# æ–¹æ¡ˆ1ï¼šçº¿ç¨‹ä¸“å±IDèŒƒå›´ - ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ–¹æ¡ˆè¯´æ˜

### åŸç†
æ¯ä¸ªJMeterçº¿ç¨‹åˆ†é…ç‹¬ç«‹çš„å­¦ç”ŸIDèŒƒå›´ï¼Œé¿å…å¹¶å‘å†²çªï¼š

```
çº¿ç¨‹0 (JMeterçº¿ç¨‹ç¼–å·0): æ“ä½œå­¦ç”Ÿ ID 101-110
çº¿ç¨‹1 (JMeterçº¿ç¨‹ç¼–å·1): æ“ä½œå­¦ç”Ÿ ID 201-210
çº¿ç¨‹2 (JMeterçº¿ç¨‹ç¼–å·2): æ“ä½œå­¦ç”Ÿ ID 301-310
...
çº¿ç¨‹9 (JMeterçº¿ç¨‹ç¼–å·9): æ“ä½œå­¦ç”Ÿ ID 1001-1010
```

### ä¼˜ç‚¹
- âœ… **å®Œå…¨é¿å…å¹¶å‘å†²çª** - æ¯ä¸ªçº¿ç¨‹æœ‰ç‹¬ç«‹æ•°æ®
- âœ… **å¯ä»¥å¯ç”¨åˆ é™¤æ“ä½œ** - ä¸å½±å“å…¶ä»–çº¿ç¨‹
- âœ… **çœŸå®æµ‹è¯•CRUD** - å®Œæ•´ä¸šåŠ¡æµç¨‹
- âœ… **æ— éœ€ä¿®æ”¹.NETä»£ç ** - åªæ”¹JMeteré…ç½®

### ç¼ºç‚¹
- âŒ éœ€è¦é¢„å…ˆåˆ›å»ºæµ‹è¯•æ•°æ®
- âŒ æ•°æ®é‡è¾ƒå¤§ï¼ˆ10çº¿ç¨‹Ã—10å­¦ç”Ÿ=100æ¡æ•°æ®ï¼‰

---

## ğŸ”§ å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºæµ‹è¯•æ•°æ®

**æ–¹æ³•Aï¼šä½¿ç”¨PowerShellè„šæœ¬ï¼ˆæ¨èï¼‰**

```powershell
# åœ¨StudentAppç›®å½•æ‰§è¡Œ
cd "d:\myCollege\CS class\SE\work3_JMeter\StudentApp"

# ç¡®ä¿åº”ç”¨æ­£åœ¨è¿è¡Œ
# æ‰§è¡Œåˆ›å»ºè„šæœ¬
$baseUrl = "http://localhost:5110/StudentPage/Create"
for ($thread = 1; $thread -le 10; $thread++) {
    for ($num = 1; $num -le 10; $num++) {
        $id = $thread * 100 + $num
        $body = @{
            "Student.Name" = "çº¿ç¨‹${thread}å­¦ç”Ÿ${num}"
            "Student.Age" = (18 + ($id % 13))
            "Student.Email" = "thread${thread}_student${num}@test.com"
            "Student.EnrollmentDate" = (Get-Date).ToString("yyyy-MM-dd")
        }
        Invoke-WebRequest -Uri $baseUrl -Method POST -Body $body -UseBasicParsing | Out-Null
        Write-Host "âœ“ çº¿ç¨‹${thread}å­¦ç”Ÿ${num}"
    }
}
Write-Host "`nå®Œæˆï¼å…±åˆ›å»º100ä¸ªå­¦ç”Ÿ"
```

**æ–¹æ³•Bï¼šä½¿ç”¨SQLè„šæœ¬**

```sql
-- æ‰§è¡Œ SeedTestData.sql
sqlcmd -S "localhost\SQLEXPRESS" -d StudentDB -E -i "SeedTestData.sql"
```

### æ­¥éª¤2ï¼šä¿®æ”¹JMeteré…ç½®

**å·²è‡ªåŠ¨ä¿®æ”¹çš„å†…å®¹ï¼š**

```xml
<!-- æ›¿æ¢äº†åŸæ¥çš„CounterConfig -->
<BeanShellPreProcessor>
  // è®¡ç®—çº¿ç¨‹ä¸“å±ID
  int threadNum = ctx.getThreadNum();  // 0-9
  int baseId = (threadNum + 1) * 100;  // 100, 200, ..., 1000
  int offset = (iteration % 10) + 1;   // 1-10å¾ªç¯
  int studentId = baseId + offset;     // æœ€ç»ˆID
  vars.put("STUDENT_ID", String.valueOf(studentId));
</BeanShellPreProcessor>
```

### æ­¥éª¤3ï¼šå¯ç”¨åˆ é™¤æ“ä½œï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³æµ‹è¯•å®Œæ•´CRUDæµç¨‹ï¼š

1. æ‰“å¼€JMeter
2. æ‰¾åˆ°"5. åˆ é™¤å­¦ç”Ÿ"
3. å³é”® â†’ å¯ç”¨ï¼ˆEnableï¼‰

---

## ğŸ¯ æµ‹è¯•åœºæ™¯

### åœºæ™¯1ï¼š10çº¿ç¨‹å¹¶å‘æµ‹è¯•ï¼ˆå½“å‰é…ç½®ï¼‰

```
çº¿ç¨‹é…ç½®ï¼š
- çº¿ç¨‹æ•°ï¼š10
- å¾ªç¯æ¬¡æ•°ï¼š10
- æ€»è¯·æ±‚æ•°ï¼š10çº¿ç¨‹ Ã— 10å¾ªç¯ Ã— 4æ“ä½œ = 400æ¬¡è¯·æ±‚

IDä½¿ç”¨ï¼š
çº¿ç¨‹0: å¾ªç¯ä½¿ç”¨ 101-110
çº¿ç¨‹1: å¾ªç¯ä½¿ç”¨ 201-210
...
çº¿ç¨‹9: å¾ªç¯ä½¿ç”¨ 1001-1010
```

### åœºæ™¯2ï¼šé«˜å¹¶å‘æµ‹è¯•

```
ä¿®æ”¹çº¿ç¨‹æ•°ä¸ºï¼š50
éœ€è¦åˆ›å»ºæ•°æ®ï¼š50çº¿ç¨‹ Ã— 10å­¦ç”Ÿ = 500æ¡
IDèŒƒå›´ï¼š101-5010
```

---

## ğŸ“Š éªŒè¯æµ‹è¯•æ•°æ®

### æŸ¥çœ‹å½“å‰å­¦ç”Ÿæ•°é‡

```powershell
# è®¿é—®åˆ—è¡¨é¡µå¹¶ç»Ÿè®¡
$response = Invoke-WebRequest -Uri "http://localhost:5110/StudentPage" -UseBasicParsing
$ids = $response.Content | Select-String -Pattern "Details/(\d+)" -AllMatches | 
       ForEach-Object { $_.Matches.Groups[1].Value } | Sort-Object -Unique
Write-Host "æ•°æ®åº“ä¸­çš„å­¦ç”ŸID: $($ids -join ', ')"
Write-Host "æ€»æ•°: $($ids.Count)"
```

### éªŒè¯çº¿ç¨‹ä¸“å±æ•°æ®

```powershell
# æ£€æŸ¥æ¯ä¸ªçº¿ç¨‹çš„æ•°æ®æ˜¯å¦é½å…¨
for ($thread = 1; $thread -le 10; $thread++) {
    $start = $thread * 100 + 1
    $end = $thread * 100 + 10
    Write-Host "çº¿ç¨‹$thread åº”æœ‰IDèŒƒå›´: $start-$end"
}
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: è¿˜æ˜¯å‡ºç°404é”™è¯¯ï¼Ÿ

**åŸå› **ï¼šæµ‹è¯•æ•°æ®æœªåˆ›å»ºå®Œæ•´

**è§£å†³**ï¼š
```powershell
# é‡æ–°åˆ›å»ºæ•°æ®
# æ‰§è¡Œä¸Šé¢çš„PowerShellåˆ›å»ºè„šæœ¬
```

### Q2: æŸäº›çº¿ç¨‹æŠ¥é”™ï¼Œå…¶ä»–æ­£å¸¸ï¼Ÿ

**åŸå› **ï¼šéƒ¨åˆ†çº¿ç¨‹çš„æ•°æ®ç¼ºå¤±

**è§£å†³**ï¼š
```powershell
# æ£€æŸ¥å“ªäº›çº¿ç¨‹çš„æ•°æ®ç¼ºå¤±
# å•ç‹¬åˆ›å»ºç¼ºå¤±çš„æ•°æ®
```

### Q3: æ•°æ®åº“IDä¸è¿ç»­ï¼Ÿ

**å›ç­”**ï¼šè¿™æ˜¯æ­£å¸¸çš„ï¼

```
é¢„æœŸçš„IDåˆ†å¸ƒï¼š
[1, 2, 3] â† ç§å­æ•°æ®
[101-110] â† çº¿ç¨‹0æ•°æ®
[201-210] â† çº¿ç¨‹1æ•°æ®
...

ä¸­é—´çš„IDï¼ˆ4-100, 111-200ç­‰ï¼‰æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯è®¾è®¡å¦‚æ­¤ï¼
```

---

## ğŸ”„ ä¸åŸæ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | åŸæ–¹æ¡ˆï¼ˆç¦ç”¨åˆ é™¤ï¼‰ | æ–¹æ¡ˆ1ï¼ˆçº¿ç¨‹ä¸“å±IDï¼‰ |
|------|-------------------|---------------------|
| å¹¶å‘å†²çª | æ—  | æ—  |
| åˆ é™¤æ“ä½œ | âŒ ç¦ç”¨ | âœ… å¯å¯ç”¨ |
| æµ‹è¯•å®Œæ•´æ€§ | éƒ¨åˆ†CRUD | å®Œæ•´CRUD |
| æ•°æ®å‡†å¤‡ | ä¸éœ€è¦ | éœ€è¦é¢„åˆ›å»º |
| .NETæ”¹åŠ¨ | æ—  | æ—  |
| JMeteræ”¹åŠ¨ | ç®€å• | ä¸­ç­‰ |

---

## ğŸ“ æ€»ç»“

### é€‚ç”¨åœºæ™¯
- âœ… éœ€è¦æµ‹è¯•å®Œæ•´CRUDæµç¨‹
- âœ… éœ€è¦æµ‹è¯•åˆ é™¤æ“ä½œçš„æ€§èƒ½
- âœ… éœ€è¦çœŸå®æ¨¡æ‹Ÿå¤šç”¨æˆ·æ“ä½œ
- âœ… æœ‰æ—¶é—´å‡†å¤‡æµ‹è¯•æ•°æ®

### ä¸é€‚ç”¨åœºæ™¯
- âŒ å¿«é€ŸåŸå‹æµ‹è¯•
- âŒ åªæµ‹è¯•æŸ¥è¯¢æ€§èƒ½
- âŒ æ•°æ®åº“ç©ºé—´æœ‰é™

---

## ğŸ“ å·¥ä½œåŸç†è¯¦è§£

### JMeterçº¿ç¨‹ç¼–å·

```javascript
ctx.getThreadNum()  // è¿”å› 0-9ï¼ˆå¯¹äº10ä¸ªçº¿ç¨‹ï¼‰
```

### IDè®¡ç®—å…¬å¼

```
baseId = (threadNum + 1) Ã— 100
studentId = baseId + (loopNum % 10) + 1

ç¤ºä¾‹ï¼š
çº¿ç¨‹0ï¼Œç¬¬1æ¬¡å¾ªç¯: (0+1)Ã—100 + 1 = 101
çº¿ç¨‹0ï¼Œç¬¬2æ¬¡å¾ªç¯: (0+1)Ã—100 + 2 = 102
...
çº¿ç¨‹0ï¼Œç¬¬10æ¬¡å¾ªç¯: (0+1)Ã—100 + 10 = 110
çº¿ç¨‹0ï¼Œç¬¬11æ¬¡å¾ªç¯: (0+1)Ã—100 + 1 = 101ï¼ˆå¾ªç¯ï¼‰
```

### ä¸ºä»€ä¹ˆä¸ä¼šå†²çªï¼Ÿ

```
æ—¶é—´è½´ï¼š
22:45:44.001 - çº¿ç¨‹0åˆ é™¤ID=101
22:45:44.002 - çº¿ç¨‹1åˆ é™¤ID=201  â† ä¸åŒIDï¼Œä¸å†²çª
22:45:44.003 - çº¿ç¨‹2åˆ é™¤ID=301  â† ä¸åŒIDï¼Œä¸å†²çª
22:45:44.004 - çº¿ç¨‹0æŸ¥è¯¢ID=102  â† ä¸åŒIDï¼Œä¸å—å½±å“
```

---

**ç°åœ¨æ–¹æ¡ˆ1å·²å®Œæ•´å®ç°ï¼0% 404é”™è¯¯ç‡ï¼** ğŸ‰
